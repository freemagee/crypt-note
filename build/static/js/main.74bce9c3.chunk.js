(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(26),s=n.n(i),r=n(3),c=n(4),p=n(6),l=n(5),d=n(7),u=n(9),h=n.n(u),m=n(2),b=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).buttonsList=[{type:"return",action:n.setListMode.bind(Object(m.a)(Object(m.a)(n))),label:"Return to list"},{type:"cancel",action:n.setNoteMode.bind(Object(m.a)(Object(m.a)(n))),label:"Cancel edit"},{type:"create",action:n.setCreateMode.bind(Object(m.a)(Object(m.a)(n))),label:"Create new note"},{type:"preview",action:n.setPreviewMode.bind(Object(m.a)(Object(m.a)(n))),label:"Preview"},{type:"save",action:n.doSaveNote.bind(Object(m.a)(Object(m.a)(n))),label:"Save note"},{type:"edit",action:n.setEditMode.bind(Object(m.a)(Object(m.a)(n))),label:"Edit note"},{type:"update",action:n.doUpdateNote.bind(Object(m.a)(Object(m.a)(n))),label:"Update note"},{type:"back",action:n.setCreateMode.bind(Object(m.a)(Object(m.a)(n))),label:"Back to new note"}],n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setListMode",value:function(){this.props.setAppMode("list")}},{key:"setCreateMode",value:function(){this.props.setAppMode("create",["return","preview","save"])}},{key:"setPreviewMode",value:function(){this.props.setAppMode("preview",["back"])}},{key:"setEditMode",value:function(){this.props.setAppMode("edit",["cancel","update"])}},{key:"setNoteMode",value:function(){this.props.setAppMode("note",["return","edit"])}},{key:"doSaveNote",value:function(){this.props.onSaveNote()}},{key:"doUpdateNote",value:function(){this.props.onUpdateNote()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&console.log("Re-rendering...")}},{key:"render",value:function(){return o.a.createElement("div",{className:"NoteActions"},this.props.actions.map(function(e,t){var n=this.buttonsList.filter(function(t){return t.type===e})[0];return o.a.createElement("button",{type:"button",key:t,className:"NoteActions__".concat(n.type),onClick:n.action},n.label)},this))}}]),t}(o.a.Component),v=n(8),N=n.n(v),f=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"openNote",value:function(){var e=new Headers,t=this;e.append("Content-Type","text/markdown"),fetch(this.props.note.source,{method:"get"}).then(function(e){return e.text()}).then(function(e){t.props.openNote(e,t.props.index)})}},{key:"render",value:function(){var e=N.a.convertTimestamp(this.props.note.created),t=N.a.convertTimestamp(this.props.note.updated);return o.a.createElement("li",{className:"NoteItem"},o.a.createElement("p",{className:"NoteItem__title"},this.props.note.title),o.a.createElement("div",{className:"NoteItem__meta"},o.a.createElement("p",{className:"NoteItem__description"},o.a.createElement("span",{className:"NoteItem__label"},"Created"),e),o.a.createElement("p",{className:"NoteItem__description"},o.a.createElement("span",{className:"NoteItem__label"},"Last updated"),t)),o.a.createElement("button",{type:"button",className:"NoteItem__open",onClick:this.openNote.bind(this)},"Open"))}}]),t}(o.a.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setCurrentNote",value:function(e,t){this.props.setCurrentNote(e,t)}},{key:"render",value:function(){return o.a.createElement("div",{className:"Notes","data-app-mode":this.props.appMode},"list"===this.props.appMode&&o.a.createElement("ul",{className:"Notes__list"},this.props.notes.map(function(e,t){return o.a.createElement(f,{note:e,openNote:this.setCurrentNote.bind(this),index:t,key:e.title})},this)))}}]),t}(o.a.Component),j=n(27),C=n.n(j),y=n(28),E=n.n(y),M=new C.a,k=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="undefined"!==typeof this.props.content?M.render(this.props.content):"",t="undefined"!==typeof this.props.title?this.props.title:"";return o.a.createElement("div",{className:"MarkdownNote","data-edit-mode":this.props.mode},o.a.createElement("div",{className:"MarkdownNote__meta"},o.a.createElement("p",{className:"MarkdownNote__title"},t)),o.a.createElement("div",{className:"MarkdownNote__content"},E()(e)))}}]),t}(o.a.Component),g=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="undefined"!==typeof this.props.note.title?this.props.note.title:"",t="undefined"!==typeof this.props.note.content?this.props.note.content:"";return o.a.createElement("div",{className:"Note","data-app-mode":this.props.appMode},("note"===this.props.appMode||"preview"===this.props.appMode)&&o.a.createElement(k,{title:e,content:t}))}}]),t}(o.a.Component),_=n(10),w=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={title:"",content:""},n.handleChange=n.handleChange.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(_.a)({},a,n)),"title"===a&&this.props.onTitleChange(n),"content"===a&&this.props.onContentChange(n)}},{key:"render",value:function(){return o.a.createElement("div",{className:"NoteCreateEditor"},o.a.createElement("div",{className:"NoteCreateEditor__control"},o.a.createElement("input",{className:"NoteCreateEditor__title",type:"text",value:this.state.title,name:"title",placeholder:"Please enter a title",onChange:this.handleChange})),o.a.createElement("div",{className:"NoteCreateEditor__control"},o.a.createElement("textarea",{className:"NoteCreateEditor__content",name:"content",value:this.state.content,placeholder:"Type your new note here",onChange:this.handleChange})))}}]),t}(o.a.Component),T=function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onTitleChange",value:function(e){this.props.onTitleChange(e)}},{key:"onContentChange",value:function(e){this.props.onContentChange(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"CreateNote","data-app-mode":this.props.appMode},"create"===this.props.appMode&&o.a.createElement(w,{onTitleChange:this.onTitleChange.bind(this),onContentChange:this.onContentChange.bind(this)}))}}]),t}(o.a.Component),S=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={title:"",content:""},n.handleChange=n.handleChange.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(_.a)({},a,n)),"title"===a&&this.props.onTitleUpdate(n),"content"===a&&this.props.onContentUpdate(n)}},{key:"render",value:function(){var e="undefined"!==typeof this.props.note.title?this.props.note.title:"",t="undefined"!==typeof this.props.note.content?this.props.note.content:"";return o.a.createElement("div",{className:"EditNote","data-app-mode":this.props.appMode},""!==e&&"edit"===this.props.appMode&&o.a.createElement("div",{className:"EditNote__control"},o.a.createElement("input",{className:"EditNote__title",type:"text",value:e,name:"title",onChange:this.handleChange})),""!==t&&"edit"===this.props.appMode&&o.a.createElement("div",{className:"EditNote__control"},o.a.createElement("textarea",{className:"EditNote__content",value:t,name:"content",onChange:this.handleChange})))}}]),t}(o.a.Component),x=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(p.a)(this,Object(l.a)(t).call(this,e))).state={actions:["create"],note:{},index:null,appMode:"list"},n.baseState=n.state,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setAppMode",value:function(e,t){"list"!==e?this.setState({appMode:e,actions:t}):this.returnToList()}},{key:"returnToList",value:function(){this.setState(this.baseState)}},{key:"setCurrentNote",value:function(e,t){var n=this,a=Object.assign({},h.a[t]);a.content=e,this.setState({note:a,index:t},function(){h.a[n.state.index]=a,n.setAppMode("note",["return","edit"])})}},{key:"setEditMode",value:function(e){if(this.setState({appMode:e}),"edit"!==e){var t=Object.assign({},h.a[this.state.index]);this.setState({note:t})}}},{key:"setTitle",value:function(e){var t=Object.assign({},this.state.note);t.title=e,this.updateNoteState(t)}},{key:"setContent",value:function(e){var t=Object.assign({},this.state.note);t.content=e,this.updateNoteState(t)}},{key:"saveNote",value:function(){var e=this,t=Object.assign({},this.state.note);this.state.createMode&&(t.created=N.a.generateTimestamp()),t.updated=N.a.generateTimestamp(),this.setState({note:t},function(){console.log("Saving the note...not really",e.state.note)})}},{key:"updateNoteState",value:function(e){this.setState({note:e})}},{key:"render",value:function(){var e=this.state.note;return o.a.createElement("div",{className:"NotesContainer"},o.a.createElement("div",{className:"NotesContainer__inner"},o.a.createElement(b,{actions:this.state.actions,setAppMode:this.setAppMode.bind(this),returnToList:this.returnToList.bind(this),onSaveNote:this.saveNote.bind(this),onUpdateNote:this.saveNote.bind(this)}),o.a.createElement(O,{notes:h.a,appMode:this.state.appMode,setCurrentNote:this.setCurrentNote.bind(this)}),o.a.createElement(T,{appMode:this.state.appMode,onTitleChange:this.setTitle.bind(this),onContentChange:this.setContent.bind(this)}),o.a.createElement(S,{appMode:this.state.appMode,key:this.state.index,note:e,onTitleUpdate:this.setTitle.bind(this),onContentUpdate:this.setContent.bind(this)}),o.a.createElement(g,{appMode:this.state.appMode,note:e})))}}]),t}(o.a.Component),A=(n(101),function(e){function t(){return Object(r.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(x,null)}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},29:function(e,t,n){e.exports=n(103)},8:function(e,t){e.exports={convertTimestamp:function(e){var t=new Date(1e3*e),n=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),o=("0"+t.getDate()).slice(-2),i=t.getHours(),s=i,r="AM";return i>12?(s=i-12,r="PM"):12===i?(s=12,r="PM"):0===i&&(s=12),n+"-"+a+"-"+o+" @ "+s+":"+("0"+t.getMinutes()).slice(-2)+" "+r},generateTimestamp:function(){return Math.round((new Date).getTime()/1e3)}}},9:function(e,t){e.exports=[{title:"React JS",source:"./static/notes/react.md",content:"",created:1491004800,updated:1492770458},{title:"Zen and the art of motorcycle maintenance",source:"./static/notes/zen.md",content:"",created:1491004800,updated:1492770458},{title:"Commonmark",source:"./static/notes/commonmark.md",content:"",created:1491004800,updated:1492770458},{title:"README boilerplate",source:"./static/notes/readme.md",content:"",created:1491004800,updated:1492770458},{title:"Markdown-it",source:"./static/notes/markdown-it.md",content:"",created:1524240109,updated:1524240109}]}},[[29,2,1]]]);
//# sourceMappingURL=main.74bce9c3.chunk.js.map